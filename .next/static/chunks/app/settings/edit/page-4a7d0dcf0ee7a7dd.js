(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{63:(e,t,a)=>{"use strict";var l=a(7260);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"usePathname")&&a.d(t,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}}),a.o(l,"useSearchParams")&&a.d(t,{useSearchParams:function(){return l.useSearchParams}})},1789:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var l=a(5155),n=a(6848),s=a(1834),r=a(4901),i=a(4975);function u(e){let{children:t}=e,{user:a,booting:u}=(0,r.A)();return((0,s.z)(),u)?(0,l.jsx)("div",{className:"softBox",children:"Loading..."}):i.F.token()&&a?t:(0,l.jsx)(n.A,{to:"/login",replace:!0})}},1834:(e,t,a)=>{"use strict";a.d(t,{z:()=>n});var l=a(63);function n(){let e=(0,l.usePathname)()||"/",t=(0,l.useSearchParams)();return{pathname:e,search:(null==t?void 0:t.toString())?"?".concat(t.toString()):""}}},2739:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var l=a(5155),n=a(2115),s=a(4842),r=a(4901),i=a(4975),u=a(9954);function o(){(0,u.A)("noindex, nofollow");let e=(0,s.Z)(),{user:t}=(0,r.A)(),[a,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{o((null==t?void 0:t.fullName)||"");let e=String((null==t?void 0:t.gender)||"").toUpperCase();"MALE"===e||"FEMALE"===e||"OTHER"===e?d(e):d("")},[t]);let h=async t=>{t.preventDefault();let l=a.trim();if(!l)return void alert("Full Name required");try{v(!0);let t=localStorage.getItem("token");if(!t)return void e("/login");let a=await i.F.put("/api/auth/me",{fullName:l,gender:c||void 0},t);if(!(null==a?void 0:a.ok))return void alert((null==a?void 0:a.message)||"Save failed");alert("Saved ✅"),e("/settings")}catch(e){alert((null==e?void 0:e.message)||"Save failed")}finally{v(!1)}};return(0,l.jsxs)("div",{className:"container editProfilePage",children:[(0,l.jsxs)("div",{className:"editHead",children:[(0,l.jsx)("h2",{className:"editTitle",children:"Edit Profile"}),(0,l.jsx)("button",{className:"editBackBtn",type:"button",onClick:()=>e(-1),disabled:m,children:"← Back"})]}),(0,l.jsxs)("form",{className:"editCard",onSubmit:h,children:[(0,l.jsxs)("div",{className:"editGrid",children:[(0,l.jsxs)("div",{className:"field",children:[(0,l.jsx)("label",{className:"lbl",children:"Full Name"}),(0,l.jsx)("input",{className:"inp",value:a,onChange:e=>o(e.target.value),placeholder:"Full name",autoComplete:"name"})]}),(0,l.jsxs)("div",{className:"field",children:[(0,l.jsx)("label",{className:"lbl",children:"Gender"}),(0,l.jsxs)("select",{className:"inp",value:c,onChange:e=>d(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Select"}),(0,l.jsx)("option",{value:"MALE",children:"Male"}),(0,l.jsx)("option",{value:"FEMALE",children:"Female"}),(0,l.jsx)("option",{value:"OTHER",children:"Other"})]})]})]}),(0,l.jsxs)("div",{className:"editBtns",children:[(0,l.jsx)("button",{className:"btnCancel",type:"button",onClick:()=>e(-1),disabled:m,children:"Cancel"}),(0,l.jsx)("button",{className:"btnSave",type:"submit",disabled:m,children:m?"Saving...":"Save"})]})]}),(0,l.jsx)("div",{className:"editBottomSpace"})]})}},4842:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var l=a(63);function n(){let e=(0,l.useRouter)();return function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l="string"==typeof t?t:String(t);(null==a?void 0:a.replace)?e.replace(l):e.push(l)}}},6848:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(2115),n=a(63);function s(e){let{to:t="/",replace:a=!1}=e,s=(0,n.useRouter)();return(0,l.useEffect)(()=>{a?s.replace(t):s.push(t)},[t,a,s]),null}},6934:(e,t,a)=>{Promise.resolve().then(a.bind(a,1789)),Promise.resolve().then(a.bind(a,2739))},9954:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(2115);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"noindex, nofollow";(0,l.useEffect)(()=>{let t=document.querySelector('meta[name="robots"]'),a=(null==t?void 0:t.getAttribute("content"))||null;return t||((t=document.createElement("meta")).setAttribute("name","robots"),document.head.appendChild(t)),t.setAttribute("content",e),()=>{let e=document.querySelector('meta[name="robots"]');e&&(a?e.setAttribute("content",a):e.remove())}},[])}}},e=>{e.O(0,[901,441,493,358],()=>e(e.s=6934)),_N_E=e.O()}]);