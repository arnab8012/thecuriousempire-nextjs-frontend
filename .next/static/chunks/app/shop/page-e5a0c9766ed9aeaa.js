(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{1216:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(5155),i=s(2115),o=s(1834),l=s(9109),n=s(4975),a=s(3252),c=s(2664);function d(){let{search:e}=(0,o.z)(),t=(0,i.useMemo)(()=>new URLSearchParams(e),[e]),s=t.get("category")||"",d=(t.get("q")||"").trim(),[u,p]=(0,i.useState)([]),[h,m]=(0,i.useState)(!0),[g,x]=(0,i.useState)(""),[v,j]=(0,i.useState)(12);(0,i.useEffect)(()=>{let e=!0;return(async()=>{try{x(""),m(!0);let t=s?"/api/products?category=".concat(encodeURIComponent(s)):"/api/products",r=await n.F.get(t);if(!e)return;if(null==r?void 0:r.ok){let e=Array.isArray(r.products)?r.products:[];p(e),0===e.length&&x("No products available right now. Please check back soon.")}else p([]),x((null==r?void 0:r.message)||"Could not load products. Please try again.")}catch(t){e&&(p([]),x((null==t?void 0:t.message)||"Network error. Please try again."))}finally{e&&m(!1)}})(),()=>{e=!1}},[s]);let y=(0,i.useMemo)(()=>{let e=d.toLowerCase();return e?(u||[]).filter(t=>{var s;let r=String((null==t?void 0:t.title)||"").toLowerCase(),i=String((null==t?void 0:t.description)||"").toLowerCase(),o=String((null==t||null==(s=t.category)?void 0:s.name)||"").toLowerCase();return r.includes(e)||i.includes(e)||o.includes(e)}):u},[u,d]),f=(0,i.useMemo)(()=>y.slice(0,v),[y,v]),N=f.length<y.length;(0,i.useEffect)(()=>{j(12)},[d,s]);let S="https://thecuriousempire.com/shop".concat(e||""),b=d?'Search "'.concat(d,'" | The Curious Empire'):"Shop | The Curious Empire",w=d?'Search results for "'.concat(d,'" at The Curious Empire.'):s?"Shop ".concat(s," products at The Curious Empire."):"Shop premium products at The Curious Empire.";return(0,r.jsxs)("div",{className:"page-enter",children:[(0,r.jsxs)(c.mg,{children:[(0,r.jsx)("title",{children:b}),(0,r.jsx)("meta",{name:"description",content:w}),(0,r.jsx)("link",{rel:"canonical",href:S}),(0,r.jsx)("meta",{property:"og:title",content:b}),(0,r.jsx)("meta",{property:"og:description",content:w}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:url",content:S}),(0,r.jsx)("meta",{property:"og:image",content:"https://thecuriousempire.com/og.png"})]}),(0,r.jsxs)("div",{className:"container",style:{paddingBottom:140},children:[(0,r.jsx)("h1",{style:{fontSize:26,margin:"10px 0"},children:"Shop — The Curious Empire"}),(0,r.jsx)("p",{style:{marginTop:0,opacity:.85},children:"Browse products from The Curious Empire. Premium shopping experience with quality & care. Find items by category or search."}),(0,r.jsxs)("div",{className:"shopHead",style:{marginTop:10},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"shopTitle",children:"Products"}),(0,r.jsxs)("div",{className:"shopSub",children:[d?(0,r.jsxs)(r.Fragment,{children:["Search: ",(0,r.jsx)("b",{children:d})," —"," "]}):null,s?(0,r.jsxs)(r.Fragment,{children:["Category: ",(0,r.jsx)("b",{children:s})," —"," "]}):null,"Showing ",f.length," / ",y.length]})]}),(0,r.jsx)(l.A,{className:"btnSoftLink",to:"/",children:"← Back"})]}),h?(0,r.jsxs)("div",{className:"softBox",children:[(0,r.jsx)("b",{children:"Loading products…"}),(0,r.jsx)("div",{style:{marginTop:6,opacity:.85},children:"Please wait a moment while we fetch the latest items."})]}):0===y.length?(0,r.jsxs)("div",{className:"softBox",children:[(0,r.jsx)("b",{children:"No products found"}),(0,r.jsx)("div",{style:{marginTop:6,opacity:.85},children:d?'No results for "'.concat(d,'". Try a different keyword.'):g||"We’re updating our shop. Please check back soon."}),(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)(l.A,{className:"btnSoftLink",to:"/shop",children:"Reset filters"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"productsGrid",children:f.map(e=>(0,r.jsx)(a.A,{p:e},e._id))}),N?(0,r.jsx)("div",{className:"shopMoreWrap",children:(0,r.jsx)("button",{className:"btnPrimary",type:"button",onClick:()=>j(e=>e+12),children:"See more"})}):null,(0,r.jsx)("div",{style:{marginTop:18,opacity:.75,fontSize:14},children:"Looking for something specific? Use the search box or browse categories to find products."})]})]})]})}},1834:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(63);function i(){let e=(0,r.usePathname)()||"/",t=(0,r.useSearchParams)();return{pathname:e,search:(null==t?void 0:t.toString())?"?".concat(t.toString()):""}}},2270:(e,t,s)=>{Promise.resolve().then(s.bind(s,1216))},3252:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(5155),i=s(9109),o=s(4842),l=s(6130),n=s(4901),a=s(5167),c=s(2115);function d(e){let{p:t}=e,s=(0,o.Z)(),d=(0,l.r)(),{user:u}=(0,n.A)(),{add:p}=(0,a._)(),h=!!Array.isArray(null==d?void 0:d.favIds)&&d.favIds.includes(null==t?void 0:t._id),m=Array.isArray(null==t?void 0:t.images)&&t.images.length?t.images[0]:(null==t?void 0:t.image)||"https://via.placeholder.com/300",g="/product/"+((null==t?void 0:t._id)||""),[x,v]=(0,c.useState)({show:!1,text:""});(0,c.useEffect)(()=>{if(!x.show)return;let e=setTimeout(()=>v({show:!1,text:""}),1200);return()=>clearTimeout(e)},[x.show]);let j=e=>{e.preventDefault(),e.stopPropagation()};return(0,r.jsxs)("div",{className:"pCard",children:[x.show&&(0,r.jsx)("div",{className:"toastBottom",children:x.text}),(0,r.jsxs)("div",{className:"pImgWrap",children:[(0,r.jsx)(i.A,{to:g,onClick:e=>e.stopPropagation(),children:(0,r.jsx)("img",{className:"pImg",src:m,alt:(null==t?void 0:t.title)||"product",loading:"lazy",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src="https://via.placeholder.com/300"}})}),(0,r.jsx)("button",{className:"pFav",type:"button",onClick:e=>{var r;if(j(e),!u)return void s("/login");null==d||null==(r=d.toggle)||r.call(d,t._id)},title:"Priyo",children:h?"❤️":"\uD83E\uDD0D"})]}),(0,r.jsxs)("div",{className:"pBody",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(i.A,{to:g,className:"pTitle",onClick:e=>e.stopPropagation(),children:null==t?void 0:t.title}),(0,r.jsxs)("div",{className:"pcPriceRow",children:[(0,r.jsxs)("span",{className:"pcPrice",children:["৳ ",(null==t?void 0:t.price)||0]}),(null==t?void 0:t.compareAtPrice)?(0,r.jsxs)("span",{className:"pcCut",children:["৳ ",t.compareAtPrice]}):null]}),(0,r.jsxs)("div",{className:"pcMetaRow",children:[(0,r.jsx)("span",{className:"pcStar",children:"⭐"}),(0,r.jsxs)("span",{className:"pcRating",children:[Number((null==t?void 0:t.rating)||0),"/5 (",Number((null==t?void 0:t.ratingCount)||0),")"]}),(0,r.jsx)("span",{className:"pcDot",children:"•"}),(0,r.jsxs)("span",{className:"pcSold",children:[Number((null==t?void 0:t.soldCount)||0)," Sold"]})]}),(0,r.jsxs)("div",{className:"pActions",children:[(0,r.jsx)(i.A,{to:g,className:"btnSoft",onClick:e=>e.stopPropagation(),children:"View"}),(0,r.jsx)("button",{className:"btnPrimary",type:"button",onClick:e=>{j(e),null==p||p({productId:null==t?void 0:t._id,title:null==t?void 0:t.title,price:null==t?void 0:t.price,image:m,variant:"",qty:1}),v({show:!0,text:"✓ Added to cart"})},children:"Add"})]})]})]})}},4842:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(63);function i(){let e=(0,r.useRouter)();return function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="string"==typeof t?t:String(t);(null==s?void 0:s.replace)?e.replace(r):e.push(r)}}},9109:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155),i=s(2619),o=s.n(i);function l(e){var t;let{to:s,href:i,...l}=e;return(0,r.jsx)(o(),{href:null!=(t=null!=i?i:s)?t:"#",...l})}}},e=>{e.O(0,[176,664,901,441,493,358],()=>e(e.s=2270)),_N_E=e.O()}]);