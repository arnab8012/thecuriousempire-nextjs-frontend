(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{63:(e,t,a)=>{"use strict";var n=a(7260);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},1834:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var n=a(63);function o(){let e=(0,n.usePathname)()||"/",t=(0,n.useSearchParams)();return{pathname:e,search:(null==t?void 0:t.toString())?"?".concat(t.toString()):""}}},2323:(e,t,a)=>{Promise.resolve().then(a.bind(a,6448))},4842:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(63);function o(){let e=(0,n.useRouter)();return function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"==typeof t?t:String(t);(null==a?void 0:a.replace)?e.replace(n):e.push(n)}}},4975:(e,t,a)=>{"use strict";a.d(t,{F:()=>r});let n=String("https://ecom-backend-rql0.onrender.com").replace(/\/$/,"");async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=await fetch(e,{...t,credentials:"include"}),n=await a.text(),o={};try{o=n?JSON.parse(n):{}}catch(e){o={ok:!1,message:n||"Non-JSON response"}}return a.ok||!o||"object"!=typeof o||"status"in o||(o.status=a.status),o}catch(e){return{ok:!1,message:(null==e?void 0:e.message)||"Network error"}}}let r={BASE:n,get:e=>o("".concat(n).concat(e),{method:"GET"}),getAuth:(e,t)=>o("".concat(n).concat(e),{method:"GET",headers:t?{Authorization:"Bearer ".concat(t)}:{}}),post:(e,t,a)=>o("".concat(n).concat(e),{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify(t||{})}),postForm:(e,t,a)=>o("".concat(n).concat(e),{method:"POST",headers:{...a?{Authorization:"Bearer ".concat(a)}:{}},body:t}),postAuth:(e,t,a)=>o("".concat(n).concat(e),{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:"Bearer ".concat(t)}:{}},body:JSON.stringify(a||{})}),put:(e,t,a)=>o("".concat(n).concat(e),{method:"PUT",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify(t||{})}),putAuth:(e,t,a)=>o("".concat(n).concat(e),{method:"PUT",headers:{"Content-Type":"application/json",...t?{Authorization:"Bearer ".concat(t)}:{}},body:JSON.stringify(a||{})}),delete:(e,t)=>o("".concat(n).concat(e),{method:"DELETE",headers:t?{Authorization:"Bearer ".concat(t)}:{}}),token:function(){return localStorage.getItem("token")||""},adminToken:function(){return localStorage.getItem("admin_token")||""}}},6448:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var n=a(5155),o=a(2115),r=a(4842),s=a(1834),c=a(4975);function i(){let e=(0,r.Z)(),t=(0,s.z)(),[a,i]=(0,o.useState)(""),[u,l]=(0,o.useState)(""),[d,h]=(0,o.useState)(!1),m=async n=>{var o;n.preventDefault(),h(!0);let r=await c.F.post("/api/admin-auth/login",{email:a,password:u});if(h(!1),!(null==r?void 0:r.ok))return void alert((null==r?void 0:r.message)||"Admin login failed");localStorage.setItem("admin_token",r.token),e((null==(o=t.state)?void 0:o.from)||"/admin",{replace:!0})};return(0,n.jsx)("div",{className:"authWrap",children:(0,n.jsxs)("div",{className:"authCard",children:[(0,n.jsx)("h2",{className:"authTitle",children:"Admin Login"}),(0,n.jsxs)("form",{onSubmit:m,children:[(0,n.jsx)("label",{className:"lbl",children:"Email"}),(0,n.jsx)("input",{className:"inp",value:a,onChange:e=>i(e.target.value),placeholder:"admin email",autoComplete:"username"}),(0,n.jsx)("label",{className:"lbl",style:{marginTop:12},children:"Password"}),(0,n.jsx)("input",{className:"inp",type:"password",value:u,onChange:e=>l(e.target.value),placeholder:"admin password",autoComplete:"current-password"}),(0,n.jsx)("button",{className:"btn",disabled:d,style:{marginTop:14},children:d?"Logging in...":"Login"})]})]})})}}},e=>{e.O(0,[441,493,358],()=>e(e.s=2323)),_N_E=e.O()}]);